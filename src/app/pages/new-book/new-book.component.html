<div class="container">
  <hr />
  <h2>Nuevo libro</h2>
  <hr />
  <div *ngIf="error" class="alert alert-danger" role="alert">{{ error }}</div>
  <div *ngIf="mensaje" class="alert alert-success" role="alert">
    {{ mensaje }}
  </div>
  <form [formGroup]="newBookForm" (ngSubmit)="onSubmit(newBookForm.value)">
    <div class="form-group row">
      <label for="nombre" class="col-sm-2">Nombre</label>
      <div class="col-sm-10">
        <input
          id="nombre"
          type="text"
          class="form-control"
          formControlName="nombre"
        />
      </div>
    </div>
    <div class="form-group row">
      <label for="descripcion" class="col-sm-2">Descripci√≥n</label>
      <div class="col-sm-10">
        <textarea
          id="descripcion"
          class="form-control"
          rows="3"
          formControlName="descripcion"
        ></textarea>
      </div>
    </div>
    <div class="form-group row">
      <label for="autor" class="col-sm-2">Autor</label>
      <div class="col-sm-10">
        <input
          id="autor"
          type="text"
          class="form-control"
          formControlName="autor"
        />
      </div>
    </div>
    <div class="form-group row">
      <label for="imagen" class="col-sm-2">Url imagen</label>
      <div class="col-sm-10">
        <input
          id="imagen"
          type="text"
          class="form-control"
          formControlName="imagen"
        />
      </div>
    </div>
    <div class="form-group row">
      <label for="categorias" class="col-sm-2">Categorias</label>
      <div class="col-sm-10">
        <mat-form-field class="full-width">
            <mat-chip-list #chipList>
                <mat-chip *ngFor="let categoria of newBookForm.get('categorias').controls; let i = index;" [selectable]="selectable"
                    [removable]="removable" (removed)="remove(i)">
                    {{categoria.value}}
                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
                <input placeholder="Nueva categoria"
                       [matChipInputFor]="chipList"
                       [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                       [matChipInputAddOnBlur]="addOnBlur"
                       (matChipInputTokenEnd)="add($event)" />
            </mat-chip-list>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <button class="btn btn-primary boton btn-block" type="submit">
          Crear
        </button>
      </div>
      <div class="col-md-6">
        <button
          class="btn btn-secondary boton btn-block"
          [routerLink]="['/Book']"
          type="submit"
        >
          Cancelar
        </button>
      </div>
    </div>
  </form>
</div>
